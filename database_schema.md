# تصميم هيكل قاعدة البيانات لبرنامج إدارة مخزن الزي المدرسي

## 1. جدول المستخدمين (Users)
يخزن معلومات المستخدمين الذين سيتفاعلون مع النظام (أمين المخزن، المحاسب، المدير).

| اسم الحقل (Field Name) | نوع البيانات (Data Type) | الوصف (Description) | ملاحظات (Notes) |
|---|---|---|---|
| `id` | INTEGER | معرف فريد للمستخدم | مفتاح أساسي، ترقيم تلقائي |
| `username` | VARCHAR(50) | اسم المستخدم لتسجيل الدخول | فريد، لا يمكن أن يكون فارغاً |
| `password_hash` | VARCHAR(128) | كلمة المرور المشفرة | لا يمكن أن يكون فارغاً |
| `role` | VARCHAR(20) | دور المستخدم (أمين مخزن، محاسب، مدير) | لا يمكن أن يكون فارغاً |
| `full_name` | VARCHAR(100) | الاسم الكامل للمستخدم | |
| `email` | VARCHAR(100) | البريد الإلكتروني للمستخدم | فريد، اختياري |

## 2. جدول المنتجات (Products)
يخزن معلومات جميع أصناف الزي المدرسي المتوفرة في المخزن.

| اسم الحقل (Field Name) | نوع البيانات (Data Type) | الوصف (Description) | ملاحظات (Notes) |
|---|---|---|---|
| `id` | INTEGER | معرف فريد للمنتج | مفتاح أساسي، ترقيم تلقائي |
| `name` | VARCHAR(100) | اسم المنتج (مثال: قميص بولو) | لا يمكن أن يكون فارغاً |
| `description` | TEXT | وصف تفصيلي للمنتج | اختياري |
| `size` | VARCHAR(20) | حجم المنتج (مثال: S, M, L, XL) | لا يمكن أن يكون فارغاً |
| `color` | VARCHAR(50) | لون المنتج | لا يمكن أن يكون فارغاً |
| `price` | DECIMAL(10, 2) | سعر الوحدة للمنتج | لا يمكن أن يكون فارغاً، أكبر من 0 |
| `quantity` | INTEGER | الكمية المتوفرة في المخزن | لا يمكن أن يكون فارغاً، أكبر من أو يساوي 0 |
| `min_quantity` | INTEGER | الحد الأدنى للكمية لتنبيه المخزون | افتراضي 10 |

## 3. جدول الطلبات (Orders)
يخزن معلومات كل طلب يتم إنشاؤه.

| اسم الحقل (Field Name) | نوع البيانات (Data Type) | الوصف (Description) | ملاحظات (Notes) |
|---|---|---|---|
| `id` | INTEGER | معرف فريد للطلب | مفتاح أساسي، ترقيم تلقائي |
| `order_date` | DATETIME | تاريخ ووقت إنشاء الطلب | لا يمكن أن يكون فارغاً |
| `student_name` | VARCHAR(100) | اسم الطالب الذي تم الطلب له | لا يمكن أن يكون فارغاً |
| `parent_name` | VARCHAR(100) | اسم ولي أمر الطالب | لا يمكن أن يكون فارغاً |
| `total_amount` | DECIMAL(10, 2) | المبلغ الإجمالي للطلب | يتم حسابه تلقائياً |
| `status` | VARCHAR(50) | حالة الطلب (معلق، بانتظار الدفع، مدفوع، مكتمل) | لا يمكن أن يكون فارغاً، افتراضي 'معلق' |
| `storekeeper_id` | INTEGER | معرف أمين المخزن الذي أنشأ الطلب | مفتاح خارجي لجدول Users |
| `accountant_id` | INTEGER | معرف المحاسب الذي عالج الدفع | مفتاح خارجي لجدول Users، اختياري |

## 4. جدول تفاصيل الطلب (Order_Items)
يخزن تفاصيل المنتجات داخل كل طلب.

| اسم الحقل (Field Name) | نوع البيانات (Data Type) | الوصف (Description) | ملاحظات (Notes) |
|---|---|---|---|
| `id` | INTEGER | معرف فريد لتفصيل الطلب | مفتاح أساسي، ترقيم تلقائي |
| `order_id` | INTEGER | معرف الطلب الذي ينتمي إليه التفصيل | مفتاح خارجي لجدول Orders |
| `product_id` | INTEGER | معرف المنتج المطلوب | مفتاح خارجي لجدول Products |
| `quantity` | INTEGER | الكمية المطلوبة من هذا المنتج | لا يمكن أن يكون فارغاً، أكبر من 0 |
| `unit_price` | DECIMAL(10, 2) | سعر الوحدة للمنتج وقت الطلب | لا يمكن أن يكون فارغاً |
| `subtotal` | DECIMAL(10, 2) | السعر الإجمالي لهذا المنتج في الطلب | يتم حسابه تلقائياً |

## 5. جدول الفواتير (Invoices)
يخزن معلومات الفواتير الصادرة.

| اسم الحقل (Field Name) | نوع البيانات (Data Type) | الوصف (Description) | ملاحظات (Notes) |
|---|---|---|---|
| `id` | INTEGER | معرف فريد للفاتورة | مفتاح أساسي، ترقيم تلقائي |
| `order_id` | INTEGER | معرف الطلب المرتبط بالفاتورة | مفتاح خارجي لجدول Orders، فريد |
| `invoice_date` | DATETIME | تاريخ ووقت إصدار الفاتورة | لا يمكن أن يكون فارغاً |
| `total_amount` | DECIMAL(10, 2) | المبلغ الإجمالي للفاتورة | لا يمكن أن يكون فارغاً |
| `accountant_id` | INTEGER | معرف المحاسب الذي أصدر الفاتورة | مفتاح خارجي لجدول Users |

## العلاقات بين الجداول:
- `Users` (1) --- (`storekeeper_id`) --- (`Many`) `Orders`
- `Users` (1) --- (`accountant_id`) --- (`Many`) `Orders`
- `Users` (1) --- (`accountant_id`) --- (`Many`) `Invoices`
- `Orders` (1) --- (`order_id`) --- (`Many`) `Order_Items`
- `Orders` (1) --- (`order_id`) --- (`1`) `Invoices`
- `Products` (1) --- (`product_id`) --- (`Many`) `Order_Items`

## التقنيات المقترحة:
- **قاعدة البيانات:** SQLite3 للتطوير، ويمكن الترقية إلى PostgreSQL أو MySQL للإنتاج.
- **الخادم الخلفي:** Python مع إطار عمل Flask.
- **الواجهة الأمامية:** JavaScript مع إطار عمل React.

